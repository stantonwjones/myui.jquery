<!DOCTYPE HTML>
<html>
    <head>
        <script type='text/javascript' src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script type="text/javascript" src="../validator.js"></script>
    </head>
    <body>
        <form>
            <p class="errorMessage" style="color: red; display: none">Please review the required fields</p>
            <label>Email</label>
            <input type="text" data-validates="email presence" />
            <input type="submit" />
        </form>
        <script>
            $.setValidations({onError: onError, onInvalidated: onInvalidated});
            function onError($form) {
                $form.find('.errorMessage').show();
            }
            function onInvalidated($input) {
                $input.siblings('label').addClass('error');
                $input.addClass('error');
            }
            $('input').on('focus input change', function() {
                $(this).removeClass('error').siblings('label').removeClass('error');
            });
        </script>
        <style type="text/css">
            .error {
                color: red;
            }
        </style>
    </body>
</html>
